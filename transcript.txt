[kgutwin@CAM-M072361 lyncbot]$ python ucwa.py
Username (email): karl.gutwin@biogen.com
Password: 
{u'deviceType': u'PC', u'_links': {u'self': {u'href': u'/ucwa/oauth/v1/applications/10502278016/people/karl.gutwin@biogen.com/presence'}}, u'availability': u'Online', u'rel': u'contactPresence'}
=========
{
  "_links": {
    "self": {
      "href": "/ucwa/oauth/v1/applications/10502278016/events?ack=1"
    }, 
    "next": {
      "href": "/ucwa/oauth/v1/applications/10502278016/events?ack=2"
    }
  }, 
  "sender": [
    {
      "href": "/ucwa/oauth/v1/applications/10502278016/me", 
      "events": [
        {
          "type": "updated", 
          "link": {
            "href": "/ucwa/oauth/v1/applications/10502278016/me", 
            "rel": "me"
          }
        }, 
        {
          "type": "added", 
          "link": {
            "href": "/ucwa/oauth/v1/applications/10502278016/me/presence", 
            "rel": "presence"
          }
        }, 
        {
          "type": "added", 
          "link": {
            "href": "/ucwa/oauth/v1/applications/10502278016/me/note", 
            "rel": "note"
          }
        }, 
        {
          "type": "added", 
          "link": {
            "href": "/ucwa/oauth/v1/applications/10502278016/me/location", 
            "rel": "location"
          }
        }
      ], 
      "rel": "me"
    }, 
    {
      "href": "/ucwa/oauth/v1/applications/10502278016/communication", 
      "events": [
        {
          "_embedded": {
            "communication": {
              "supportedMessageFormats": [
                "Plain", 
                "Html"
              ], 
              "bfe92194-aed3-49d0-9f1b-8d916b8fe6db": "please pass this in a PUT request", 
              "etag": "873444896", 
              "_links": {
                "startOnlineMeeting": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/onlineMeetingInvitations?onlineMeetingUri=adhoc"
                }, 
                "conversations": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations?filter=active"
                }, 
                "self": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication"
                }, 
                "startMessaging": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/messagingInvitations"
                }, 
                "startPhoneAudio": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/phoneAudioInvitations"
                }, 
                "joinOnlineMeeting": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/onlineMeetingInvitations"
                }
              }, 
              "rel": "communication", 
              "supportedModalities": [
                "Messaging"
              ]
            }
          }, 
          "link": {
            "href": "/ucwa/oauth/v1/applications/10502278016/communication", 
            "rel": "communication"
          }, 
          "type": "updated"
        }
      ], 
      "rel": "communication"
    }
  ]
}
======= Sandeep sent me a message
{
  "_links": {
    "self": {
      "href": "/ucwa/oauth/v1/applications/10502278016/events?ack=2"
    }, 
    "next": {
      "href": "/ucwa/oauth/v1/applications/10502278016/events?ack=3"
    }
  }, 
  "sender": [
    {
      "href": "/ucwa/oauth/v1/applications/10502278016/communication", 
      "events": [
        {
          "_embedded": {
            "messagingInvitation": {
              "direction": "Incoming", 
              "_embedded": {
                "from": {
                  "name": "Sandeep Shantharam (EXTERNAL)", 
                  "sourceNetwork": "SameEnterprise", 
                  "uri": "sip:sandeep.shantharam@biogen.com", 
                  "_links": {
                    "conversation": {
                      "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748"
                    }, 
                    "self": {
                      "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/participants/sandeep.shantharam@biogen.com"
                    }, 
                    "contact": {
                      "href": "/ucwa/oauth/v1/applications/10502278016/people/sandeep.shantharam@biogen.com"
                    }, 
                    "contactPresence": {
                      "href": "/ucwa/oauth/v1/applications/10502278016/people/sandeep.shantharam@biogen.com/presence"
                    }
                  }, 
                  "rel": "participant", 
                  "anonymous": false
                }
              }, 
              "importance": "Normal", 
              "state": "Connecting", 
              "_links": {
                "decline": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/messagingInvitations/1ed7cb6e78dd49d985743bd63c01ef7c/decline"
                }, 
                "conversation": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748"
                }, 
                "self": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/messagingInvitations/1ed7cb6e78dd49d985743bd63c01ef7c"
                }, 
                "accept": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/messagingInvitations/1ed7cb6e78dd49d985743bd63c01ef7c/accept"
                }, 
                "to": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/people/karl.gutwin@biogen.com"
                }, 
                "messaging": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/messaging"
                }, 
                "message": {
                  "href": "data:text/plain;charset=utf-8,Hello..+This+is+Sandeep+Here.."
                }
              }, 
              "rel": "messagingInvitation", 
              "threadId": "AdI5/JVLEqc1Sn3OCUCviKuBNKZMFw==", 
              "subject": ""
            }
          }, 
          "link": {
            "href": "/ucwa/oauth/v1/applications/10502278016/communication/messagingInvitations/1ed7cb6e78dd49d985743bd63c01ef7c", 
            "rel": "messagingInvitation"
          }, 
          "type": "started"
        }, 
        {
          "_embedded": {
            "conversation": {
              "activeModalities": [
                "Messaging"
              ], 
              "importance": "Normal", 
              "recording": false, 
              "state": "Incoming", 
              "_links": {
                "audioVideo": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/audioVideo"
                }, 
                "applicationSharing": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/applicationSharing"
                }, 
                "self": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748"
                }, 
                "dataCollaboration": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/dataCollaboration"
                }, 
                "phoneAudio": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/phoneAudio"
                }, 
                "messaging": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/messaging"
                }
              }, 
              "rel": "conversation", 
              "threadId": "AdI5/JVLEqc1Sn3OCUCviKuBNKZMFw==", 
              "subject": ""
            }
          }, 
          "link": {
            "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748", 
            "rel": "conversation"
          }, 
          "type": "added"
        }
      ], 
      "rel": "communication"
    }, 
    {
      "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748", 
      "events": [
        {
          "_embedded": {
            "localParticipant": {
              "name": "Karl Gutwin", 
              "sourceNetwork": "SameEnterprise", 
              "uri": "sip:karl.gutwin@biogen.com", 
              "_links": {
                "me": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/me"
                }, 
                "conversation": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748"
                }, 
                "self": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/participants/karl.gutwin@biogen.com"
                }
              }, 
              "rel": "participant", 
              "anonymous": false
            }
          }, 
          "link": {
            "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/participants/karl.gutwin@biogen.com", 
            "rel": "localParticipant", 
            "title": "Karl Gutwin"
          }, 
          "type": "added"
        }
      ], 
      "rel": "conversation"
    }
  ]
}
=========
{
  "_links": {
    "self": {
      "href": "/ucwa/oauth/v1/applications/10502278016/events?ack=3"
    }, 
    "next": {
      "href": "/ucwa/oauth/v1/applications/10502278016/events?ack=4"
    }
  }, 
  "sender": [
    {
      "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748", 
      "events": [
        {
          "type": "added", 
          "link": {
            "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/participants/sandeep.shantharam@biogen.com", 
            "rel": "participant", 
            "title": "Sandeep Shantharam (EXTERNAL)"
          }
        }
      ], 
      "rel": "conversation"
    }
  ]
}
======== I clicked "cancel"
{
  "_links": {
    "self": {
      "href": "/ucwa/oauth/v1/applications/10502278016/events?ack=4"
    }, 
    "next": {
      "href": "/ucwa/oauth/v1/applications/10502278016/events?ack=5"
    }
  }, 
  "sender": [
    {
      "href": "/ucwa/oauth/v1/applications/10502278016/communication", 
      "events": [
        {
          "status": "Failure", 
          "_embedded": {
            "messagingInvitation": {
              "direction": "Incoming", 
              "_embedded": {
                "from": {
                  "name": "Sandeep Shantharam (EXTERNAL)", 
                  "sourceNetwork": "SameEnterprise", 
                  "uri": "sip:sandeep.shantharam@biogen.com", 
                  "_links": {
                    "contactPhoto": {
                      "href": "/ucwa/oauth/v1/applications/10502278016/photos/sandeep.shantharam@biogen.com"
                    }, 
                    "conversation": {
                      "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748"
                    }, 
                    "self": {
                      "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/participants/sandeep.shantharam@biogen.com"
                    }, 
                    "contact": {
                      "href": "/ucwa/oauth/v1/applications/10502278016/people/sandeep.shantharam@biogen.com"
                    }, 
                    "contactPresence": {
                      "href": "/ucwa/oauth/v1/applications/10502278016/people/sandeep.shantharam@biogen.com/presence"
                    }
                  }, 
                  "rel": "participant", 
                  "anonymous": false
                }
              }, 
              "importance": "Normal", 
              "state": "Failed", 
              "_links": {
                "to": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/people/karl.gutwin@biogen.com"
                }, 
                "self": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/messagingInvitations/1ed7cb6e78dd49d985743bd63c01ef7c"
                }, 
                "messaging": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/messaging"
                }, 
                "message": {
                  "href": "data:text/plain;charset=utf-8,Hello..+This+is+Sandeep+Here.."
                }, 
                "conversation": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748"
                }
              }, 
              "rel": "messagingInvitation", 
              "threadId": "AdI5/JVLEqc1Sn3OCUCviKuBNKZMFw==", 
              "subject": ""
            }
          }, 
          "reason": {
            "debugInfo": {
              "errorReportId": "da00fd10853446929e0b5c7f1a3f7649"
            }, 
            "subcode": "Declined", 
            "code": "LocalFailure", 
            "message": "Your invitation was declined."
          }, 
          "link": {
            "href": "/ucwa/oauth/v1/applications/10502278016/communication/messagingInvitations/1ed7cb6e78dd49d985743bd63c01ef7c", 
            "rel": "messagingInvitation"
          }, 
          "type": "completed"
        }
      ], 
      "rel": "communication"
    }
  ]
}
==========
{
  "_links": {
    "self": {
      "href": "/ucwa/oauth/v1/applications/10502278016/events?ack=5"
    }, 
    "next": {
      "href": "/ucwa/oauth/v1/applications/10502278016/events?ack=6"
    }
  }, 
  "sender": [
    {
      "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748", 
      "events": [
        {
          "_embedded": {
            "messaging": {
              "state": "Disconnected", 
              "_links": {
                "conversation": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748"
                }, 
                "self": {
                  "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/messaging"
                }
              }, 
              "rel": "messaging"
            }
          }, 
          "link": {
            "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/messaging", 
            "rel": "messaging"
          }, 
          "type": "updated"
        }, 
        {
          "type": "deleted", 
          "link": {
            "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748/participants/karl.gutwin@biogen.com", 
            "rel": "localParticipant", 
            "title": "Karl Gutwin"
          }
        }
      ], 
      "rel": "conversation"
    }, 
    {
      "href": "/ucwa/oauth/v1/applications/10502278016/communication", 
      "events": [
        {
          "type": "deleted", 
          "link": {
            "href": "/ucwa/oauth/v1/applications/10502278016/communication/conversations/195436e6-6df6-4c92-aad3-6252b4792748", 
            "rel": "conversation"
          }
        }
      ], 
      "rel": "communication"
    }
  ]
}
